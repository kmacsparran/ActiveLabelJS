/* 
 * ActiveLabelJS, version 1.0 [2014-05-14]
 * Copyright 2014, TXW LLC
 * Author: Kenneth MacSparran [kenneth.macsparran@gmail.com]
 * Licensed under the MIT License [https://github.com/kmacsparran/ActiveLabelJS/blob/master/LICENSE]
 */
var LabelOptions={parentElementID:"activeform",activeStyle:"active",defaultStyle:"invisible",toggleStyle:"visible"},Label=function(a,b){return this.context=b,this.control=a,this.label=this.getLabel(),this.addClass(LabelOptions.activeStyle),this.addClass(LabelOptions.defaultStyle),this.control.value.length>0&&this.addClass(LabelOptions.toggleStyle),this.activate(),this};Label.prototype.getLabel=function(){var a=this.context.getElementsByTagName("label"),b=a.length-1,c=0;do if(a[c].htmlFor===(null!==this.control.name?this.control.name:this.control.id))return a[c];while(c++<b)},Label.prototype.toggleLabel=function(){this.control.value.length>0?this.addClass(LabelOptions.toggleStyle):this.removClass(LabelOptions.toggleStyle)},Label.prototype.addClass=function(a){var b=(this.label.className||"").split(" "),a=a||LabelOptions.activeStyle;b.indexOf(a)<0&&(this.label.className=this.convertArrayToString(b.concat(a)))},Label.prototype.removClass=function(a){var b=(this.label.className||"").split(" "),a=a||LabelOptions.activeStyle,c=b.indexOf(a);c>-1&&(b.splice(c,1),this.label.className=this.convertArrayToString(b))},Label.prototype.convertArrayToString=function(a){return a.join(" ").trim()},Label.prototype.activate=function(){this.control.addEventListener("input",this.toggleLabel.bind(this)),this.control.addEventListener("change",this.toggleLabel.bind(this))};